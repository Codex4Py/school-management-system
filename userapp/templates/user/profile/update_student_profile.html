{% extends 'base.html' %}
{% block title %}
Profile
{% endblock title %}

{% block content %}

{% if messages %}
<div class="mt-3">
    {% for message in messages %}
    <div class="alert alert-success" role="alert">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-8 offset-md-2">

            <!-- Display success message if any -->
            {% if messages %}
                <div class="alert alert-success">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <div class="card">
                <div class="card-header">
                    <h3 class="text-center">Update Student Profile</h3>
                </div>
                <div class="card-body">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <table class="table table-bordered">
                            <tbody>
                                <tr>
                                    <td><label for="name">Full Name</label></td>
                                    <td><input type="text" class="form-control" id="name" name="name" value="{{ students.name }}" required></td>
                                </tr>
                                <tr>
                                    <td><label for="email">Email</label></td>
                                    <td><input type="email" class="form-control" id="email" name="email" value="{{ student.email }}" required></td>
                                </tr>
                                <tr>
                                    <td><label for="student_id">Student ID</label></td>
                                    <td><input type="text" class="form-control" id="student_id" name="student_id" value="{{ student.student_id }}" required></td>
                                </tr>
                                <tr>
                                    <td><label for="gender">Gender</label></td>
                                    <td>
                                        <select class="form-control" id="gender" name="gender" required>
                                            <option value="Male" {% if student.gender == 'Male' %}selected{% endif %}>Male</option>
                                            <option value="Female" {% if student.gender == 'Female' %}selected{% endif %}>Female</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td><label for="dob">Date of Birth</label></td>
                                    <td><input type="date" class="form-control" id="dob" name="dob" value="{{ student.dob|date:'Y-m-d' }}" required></td>
                                </tr>
                                <tr>
                                    <td><label for="address">Address</label></td>
                                    <td><textarea class="form-control" id="address" name="address" rows="3" required>{{ student.address }}</textarea></td>
                                </tr>
                                <tr>
                                    <td><label for="father_name">Father's Name</label></td>
                                    <td><input type="text" class="form-control" id="father_name" name="father_name" value="{{ student.father_name }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="father_occupation">Father's Occupation</label></td>
                                    <td><input type="text" class="form-control" id="father_occupation" name="father_occupation" value="{{ student.father_occupation }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="father_phone">Father's Phone</label></td>
                                    <td><input type="tel" class="form-control" id="father_phone" name="father_phone" value="{{ student.father_phone }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="mother_name">Mother's Name</label></td>
                                    <td><input type="text" class="form-control" id="mother_name" name="mother_name" value="{{ student.mother_name }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="mother_occupation">Mother's Occupation</label></td>
                                    <td><input type="text" class="form-control" id="mother_occupation" name="mother_occupation" value="{{ student.mother_occupation }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="mother_phone">Mother's Phone</label></td>
                                    <td><input type="tel" class="form-control" id="mother_phone" name="mother_phone" value="{{ student.mother_phone }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="phone_number">Phone Number</label></td>
                                    <td><input type="tel" class="form-control" id="phone_number" name="phone_number" value="{{ student.phone_number }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="blood_group">Blood Group</label></td>
                                    <td><input type="text" class="form-control" id="blood_group" name="blood_group" value="{{ student.blood_group }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="grade">Grade</label></td>
                                    <td><input type="text" class="form-control" id="grade" name="grade" value="{{ student.grade }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="section">Section</label></td>
                                    <td><input type="text" class="form-control" id="section" name="section" value="{{ student.section }}"></td>
                                </tr>
                                <tr>
                                    <td><label for="roll_number">Roll Number</label></td>
                                    <td><input type="text" class="form-control" id="roll_number" name="roll_number" value="{{ student.roll_number }}"></td>
                                </tr>
                              
                              
                                <tr>
                                    <td><label for="profile_photo">Profile Photo</label></td>
                                    <td><input type="file" class="form-control" id="profile_photo" name="profile_photo"></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Update Profile</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
